-- Tabela Pessoa
CREATE TABLE pessoa (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    sobrenome VARCHAR(100) NOT NULL,
    cpf CHAR(11) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    telefone VARCHAR(20),
    aniversario DATE,
    senha VARCHAR(255),
    endereco VARCHAR(255)
);

-- Tabela Treinador (relacionada com Pessoa)
CREATE TABLE treinador (
    idTreinador SERIAL PRIMARY KEY,
    salario DECIMAL(10,2),
    pessoa_id INT REFERENCES pessoa(id) ON DELETE CASCADE
);

-- Tabela Aluno (relacionada com Pessoa e Treinador)
CREATE TABLE aluno (
    matricula SERIAL PRIMARY KEY,
    objetivo VARCHAR(255),
    observacao TEXT,
    ativo BOOLEAN,
    treinador_id INT REFERENCES treinador(idTreinador) ON DELETE SET NULL,
    pessoa_id INT REFERENCES pessoa(id) ON DELETE CASCADE
);

-- Tabela Pagamento (relacionada com Aluno)
CREATE TABLE pagamento (
    idOperacao SERIAL PRIMARY KEY,
    valor DOUBLE PRECISION,
    dataPaga DATE,
    dataVencimento DATE,
    tipoPlano VARCHAR(50),
    aluno_id INT REFERENCES aluno(matricula) ON DELETE CASCADE
);
